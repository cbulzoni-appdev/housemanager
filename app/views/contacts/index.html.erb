<div class="container-fluid">

  <div class="row mb-3">
    <div class="col-md-12">
      <h2><%= @current_user.first_name %>'s Rolodex</h2>
      <table border="1">
        <tr>
          <th>
            Company name
          </th>

          <th>
            Contact name
          </th>

          <th>
            Contact type
          </th>

          <th>
            Email
          </th>

          <th>
            Phone number
          </th>

          <th>
          </th>

          <th>
          </th>
        </tr>

        <% @list_of_contacts.each do |a_contact| %>
        <tr>
          <td>
            <%= a_contact.company_name %>
          </td>

          <td>
            <%= a_contact.contact_name %>
          </td>

          <td>
            <%= a_contact.contact_type %>
          </td>

          <td>
            <%= a_contact.email %>
          </td>

          <td>
            <%= a_contact.phone_number %>
          </td>

          <td>
            <a href="/contacts/<%= a_contact.id %>">
              Show details
            </a>
          </td>
          
          <td>
            <button type="button" class="btn btn-info btn-sm" data-toggle="modal" data-target="#ModalTextForm">Send them a text</button>

            <!-- Modal -->
            <div id="ModalTextForm" class="modal fade">
              <div class="modal-dialog" role="document">

                <!-- Modal content-->
                <div class="modal-content">
                  <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title">Send a text</h4>
                  </div>
                  <div class="modal-body">
                    <form role="form" method="POST" action="/send_contact_text/<%= a_contact.id %>">
                      <label for="message_box" class="form-label">
                        Message
                      </label>

                      <textarea class="form-control" id="message_box" name="query_message" rows="3"></textarea>

                      <button type="submit" class="btn btn-primary">
                        Send Text
                      </button>
                    </form>
                  </div>
                  <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                  </div>
                </div>

              </div>
            </div>
          </td>
        </tr>
        <% end %>
      </table>
    </div>
  </div>

  <div class="row mb-3">
    <di class="col-md-5">
      <h2>
        Add a new contact
      </h2>

      <form action="/insert_contact" method="post">
        <div class="row mb-3">
          <div class="col">
            <label for="company_name_box" class="form-label">
              Company name
            </label>

            <input type="text" class="form-control" id="company_name_box" name="query_company_name">
          </div>

          <div class="col">
            <label for="contact_name_box" class="form-label">
              Contact name
            </label>

            <input type="text" class="form-control" id="contact_name_box" name="query_contact_name">
          </div>
        </div>

        <div class="row mb-3">
          <div class="col-md-6">
            <label for="contact_type_box" class="form-label">
              Contact type
            </label>

            <input type="text" class="form-control" id="contact_type_box" name="query_contact_type">
          </div>
        </div>

        <div class="row mb-3">
          <div class="col">
            <label for="email_box" class="form-label">
              Email
            </label>

            <input type="text" class="form-control" id="email_box" name="query_email">
          </div>

          <div class="col">
            <label for="phone_number_box" class="form-label">
              Phone number
            </label>

            <input type="text" class="form-control" id="phone_number_box" name="query_phone_number">
          </div>
        </div>
        
        <button type="submit" class="btn btn-primary">
          Create contact
        </button>
      </form>
    </div>
  </div>

  

</div>
